(this["webpackJsonpimdb-clone"]=this["webpackJsonpimdb-clone"]||[]).push([[0],{105:function(e,t,n){},107:function(e,t,n){},115:function(e,t,n){},116:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(34),s=n.n(c),i=(n(85),n(11)),o=n(17),u=n.n(o),l=n(28),j=n(9),b=n(149),d=n(150),p=n(152),h=n(67),v=n.n(h).a.create({baseURL:"https://api.themoviedb.org/3/"}),O="api_key=b60da710fb69e88a59ee89dba4f2bb11",x={getPopularMovies:function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("movie/popular?".concat(O,"&language=en-US&page=1"));case 2:return e.next=4,e.sent.data.results;case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getMovieDetails:function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("movie/".concat(t,"?").concat(O,"&language=en-US"));case 2:return e.next=4,e.sent.data;case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getMovieVideos:function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("movie/".concat(t,"/videos?").concat(O,"&language=en-US"));case 2:return e.next=4,e.sent.data.results;case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),searchMovies:function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("search/movie?".concat(O,"&query=").concat(t));case 2:return e.next=4,e.sent.data.results;case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getCrew:function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("movie/".concat(t,"/credits?").concat(O,"&language=en-US"));case 2:return e.next=4,e.sent.data.cast;case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},f=x,m=n(44),g=(n(105),n(1)),w=function(e){var t=e.movie;return Object(g.jsx)(m.b,{className:"movie",to:"movies/".concat(t.id),children:null==t.poster_path?Object(g.jsx)("div",{className:"no-poster",children:Object(g.jsx)("h3",{children:t.title.length>30?t.title.substring(0,30)+"...":t.title})}):Object(g.jsx)("div",{className:"poster",style:{backgroundImage:"url(https://image.tmdb.org/t/p/original/".concat(t.poster_path,")")}})})},y=(n(107),function(){var e=Object(r.useState)([0,10]),t=Object(j.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!0),s=Object(j.a)(c,2),i=s[0],o=s[1],h=Object(r.useState)([]),v=Object(j.a)(h,2),O=v[0],x=v[1],m=Object(r.useState)([]),y=Object(j.a)(m,2),k=y[0],S=y[1],N=Object(r.useState)([]),M=Object(j.a)(N,2),_=M[0],B=M[1];Object(r.useEffect)((function(){f.getPopularMovies().then((function(e){x(e),S(e),B(e),o(!1)})).catch((function(e){console.log(e)}))}),[]);var I=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t){e.next=4;break}x(_),e.next=16;break;case 4:return e.next=6,o(!0);case 6:return e.t0=x,e.next=9,f.searchMovies(t);case 9:return e.t1=e.sent,e.next=12,(0,e.t0)(e.t1);case 12:return e.next=14,P(n);case 14:return e.next=16,o(!1);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(l.a)(u.a.mark((function e(t,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(r=n),P(r);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),P=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(O.filter((function(e){return e.vote_average>=t[0]&&e.vote_average<=t[1]})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:"popular",children:[0!==_.length?Object(g.jsx)("div",{className:"header",style:{backgroundImage:"url(https://image.tmdb.org/t/p/original/".concat(_[0].backdrop_path,")")},children:Object(g.jsx)("h1",{children:"MicroAA MovieDB"})}):Object(g.jsx)("div",{}),Object(g.jsxs)("div",{className:"form",children:[Object(g.jsx)("h1",{children:"Popular Movies"}),Object(g.jsx)(b.a,{id:"outlined-basic",label:"Search Movies By Name",variant:"outlined",onChange:function(e){return I(e.target.value)}}),Object(g.jsxs)("div",{children:[Object(g.jsx)("h3",{children:"MovieDB Ratings"}),Object(g.jsx)(d.a,{value:n,onChange:D,valueLabelDisplay:"auto",min:0,max:10})]})]}),i?Object(g.jsx)(p.a,{}):Object(g.jsx)("div",{className:"movies",children:k.map((function(e){return Object(g.jsx)(w,{movie:e},e.id)}))})]})}),k=(n(115),function(){var e=Object(i.g)().id,t=Object(r.useState)(!0),n=Object(j.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(),o=Object(j.a)(s,2),u=o[0],l=o[1],b=Object(r.useState)([]),d=Object(j.a)(b,2),h=d[0],v=d[1],O=Object(r.useState)([]),x=Object(j.a)(O,2),m=x[0],w=x[1];return Object(r.useEffect)((function(){var t=e;Promise.all([f.getMovieDetails(t),f.getMovieVideos(t),f.getCrew(t)]).then((function(e){Promise.all([l(e[0]),v(e[1]),w(e[2])]).then((function(e){c(!1)}))}))}),[e]),Object(g.jsx)("div",{className:"movie-details-page",children:a?Object(g.jsx)(p.a,{}):Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:"cover",style:{backgroundImage:"url(https://image.tmdb.org/t/p/original/".concat(u.backdrop_path,")")},children:Object(g.jsx)("h1",{children:u.title})}),Object(g.jsxs)("div",{className:"info",children:[Object(g.jsxs)("div",{children:[Object(g.jsx)("h2",{children:"Genrer:"}),u.genres.map((function(e){return Object(g.jsx)("div",{children:e.name},e.id)}))]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("h2",{children:"Beskrivning:"}),Object(g.jsx)("div",{children:u.overview})]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("h2",{children:"Sk\xe5despelare"}),Object(g.jsx)("div",{className:"actors",children:m.map((function(e){return Object(g.jsxs)("div",{className:"actor",children:[Object(g.jsx)("div",{className:"image",style:{backgroundImage:"url(https://image.tmdb.org/t/p/original/".concat(e.profile_path,")")}}),Object(g.jsx)("h3",{children:e.name})]},e.id)}))})]}),Object(g.jsx)("div",{className:"trailer",children:h.length>0?Object(g.jsx)("iframe",{width:"100%",height:"600px",src:"https://www.youtube.com/embed/".concat(h[0].key),frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:"Embedded youtube"}):Object(g.jsx)("div",{children:"Ingen trailer"})})]})]})})});var S=function(){return Object(g.jsx)("div",{className:"App",children:Object(g.jsxs)(i.c,{children:[Object(g.jsx)(i.a,{path:"/",element:Object(g.jsx)(y,{})}),Object(g.jsx)(i.a,{path:"/movies/:id",element:Object(g.jsx)(k,{})})]})})};s.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(m.a,{children:Object(g.jsx)(S,{})})}),document.getElementById("root"))},85:function(e,t,n){}},[[116,1,2]]]);
//# sourceMappingURL=main.bde9c020.chunk.js.map